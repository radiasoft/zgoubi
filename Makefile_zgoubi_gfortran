CFLAGS=-g -DGFORTRAN4
FC=gfortran
FFLAGS=-O4 -Wall -fno-automatic -pedantic

.POSIX:

all :
	cd modules ;  make CFLAGS="$(CFLAGS)" FC="$(FC)" FFLAGS="$(FFLAGS)"
	cd common ; rm libzg.a || true  ; make CFLAGS="$(CFLAGS)" FC="$(FC)" FFLAGS="$(FFLAGS)"
	cd coupling ; make CFLAGS="$(CFLAGS)" FC="$(FC)" FFLAGS="$(FFLAGS)"
	cd zgoubi ; make CFLAGS="$(CFLAGS)" FC="$(FC)" FFLAGS="$(FFLAGS)"
	cd zpop ; make CFLAGS="$(CFLAGS)" FC="$(FC)" FFLAGS="$(FFLAGS)"
	cd doc ; make

clean :
	$(RM) *~
	cd modules ;  make clean
	cd common ;  make clean
	cd coupling ; make clean
	cd zgoubi ;  make clean
	cd zpop ; $(MAKE) clean
	cd doc ; $(MAKE) clean

