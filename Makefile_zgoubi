CFLAGS = -g -DGFORTRAN4
#
# Case of gfortran compiler, next two lines
#FC=gfortran
#FFLAGS=-O4 -Wall -fno-automatic -pedantic
#
# Case of ifort compiler, next two lines
######## OWL : 
FC=/opt/intel/bin/ifort
########
#FC=ifort
#
### check : check array boundary errors
#FFLAGS= -xHOST -O3 -ip -traceback -check -static -save
#FFLAGS= -xHOST -O3 -ip -traceback -check         -save
#FFLAGS= -xHOST -O3 -ip -traceback        -static -save
#FFLAGS= -xHOST -O3 -ip                   -static -save
#FFLAGS= -xHOST -O3 -ip -traceback        -static -save
######## OWL : 
# -static includes local libs (-lm etc.) into executable. Pb with that on cscomputers
FFLAGS= -xHOST -O4 -ip -save

.POSIX:

all :
	cd common ; rm libzg.a ; make CFLAGS="$(CFLAGS)" FC="$(FC)" FFLAGS="$(FFLAGS)"
	cd coupling ; make CFLAGS="$(CFLAGS)" FC="$(FC)" FFLAGS="$(FFLAGS)"
	cd zgoubi ; make CFLAGS="$(CFLAGS)" FC="$(FC)" FFLAGS="$(FFLAGS)"

clean :
	$(RM) *~
	cd common ;  make clean
	cd coupling ; make clean
	cd zgoubi ;  make clean

 